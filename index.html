<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Weer ‚Ä¢ Tijd ‚Ä¢ Datum</title>
  <style>
    :root{
      --bg: #f5f7fb;
      --card: #ffffff;
      --accent: #2b8cff;
      --muted: #666;
    }
    body{
      margin:0;
      font-family: Inter, Arial, Helvetica, sans-serif;
      background: linear-gradient(180deg, #e9f0ff 0%, var(--bg) 100%);
      display:flex;
      align-items:center;
      justify-content:center;
      min-height:100vh;
      padding:20px;
    }
    .container{
      width: 420px;
      background:var(--card);
      border-radius:14px;
      box-shadow:0 10px 30px rgba(20,40,80,0.12);
      padding:18px;
    }
    .header{
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:12px;
      margin-bottom:12px;
    }
    .datetime{
      display:flex;
      flex-direction:column;
    }
    .time{
      font-size:1.6rem;
      font-weight:700;
    }
    .date{
      color:var(--muted);
      font-size:0.95rem;
    }
    .weather-card{
      display:flex;
      gap:14px;
      align-items:center;
      padding:12px;
      border-radius:10px;
      background: linear-gradient(90deg, rgba(43,140,255,0.09), rgba(255,255,255,0));
    }
    .weather-icon{
      width:72px;
      height:72px;
      display:flex;
      align-items:center;
      justify-content:center;
      font-size:1.1rem;
      border-radius:12px;
      background:rgba(255,255,255,0.6);
    }
    .weather-info{ flex:1; }
    .temp{
      font-size:1.4rem;
      font-weight:700;
    }
    .desc{
      color:var(--muted);
      text-transform: capitalize;
    }
    .controls{
      display:flex;
      gap:8px;
      margin-top:12px;
    }
    input[type="text"]{
      flex:1;
      padding:8px 10px;
      border-radius:8px;
      border:1px solid #e0e6f0;
      outline:none;
    }
    button{
      padding:9px 12px;
      border-radius:8px;
      border:none;
      background:var(--accent);
      color:white;
      cursor:pointer;
      font-weight:600;
    }
    .meta{
      margin-top:10px;
      color:var(--muted);
      font-size:0.9rem;
      display:flex;
      gap:10px;
      align-items:center;
      justify-content:space-between;
    }
    @media (max-width:480px){
      .container{ width:100%; padding:14px; }
      .weather-icon{ width:60px; height:60px; }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <div class="datetime">
        <div id="time" class="time">--:--:--</div>
        <div id="date" class="date">Loading...</div>
      </div>
      <div style="text-align:right">
        <div style="font-weight:700">Mijn weer</div>
        <div style="color:var(--muted); font-size:0.85rem">Actuele data</div>
      </div>
    </div>

    <div class="weather-card" id="weatherCard">
      <div class="weather-icon" id="weatherIcon">‚òÅÔ∏è</div>
      <div class="weather-info">
        <div id="location" style="font-weight:700">Locatie</div>
        <div style="display:flex; gap:12px; align-items:center; margin-top:6px;">
          <div class="temp" id="temp">--¬∞C</div>
          <div class="desc" id="desc">--</div>
        </div>
      </div>
    </div>

    <div class="controls">
      <input type="text" id="cityInput" placeholder="Zoek stad (bv. Amsterdam)" />
      <button id="searchBtn">Zoek</button>
      <button id="locBtn" title="Gebruik mijn locatie (browser)">üìç</button>
    </div>

    <div class="meta">
      <div id="lastUpdated">Niet bijgewerkt</div>
      <div id="wind">Wind: --</div>
    </div>
  </div>

  <script>
    // --- CONFIGUREER HIER JE API KEY ---
    const API_KEY = '50dc6a131a56d1bc3713827427110094'; // vervang door je eigen OpenWeatherMap API key

    // DOM elementen
    const timeEl = document.getElementById('time');
    const dateEl = document.getElementById('date');
    const tempEl = document.getElementById('temp');
    const descEl = document.getElementById('desc');
    const locationEl = document.getElementById('location');
    const weatherIconEl = document.getElementById('weatherIcon');
    const lastEl = document.getElementById('lastUpdated');
    const windEl = document.getElementById('wind');

    // Live klok + datum (update elke seconde)
    function updateClock(){
      const now = new Date();
      const hh = String(now.getHours()).padStart(2,'0');
      const mm = String(now.getMinutes()).padStart(2,'0');
      const ss = String(now.getSeconds()).padStart(2,'0');
      timeEl.textContent = `${hh}:${mm}:${ss}`;

      const options = { weekday:'long', year:'numeric', month:'long', day:'numeric' };
      dateEl.textContent = now.toLocaleDateString('nl-NL', options);
    }
    setInterval(updateClock, 1000);
    updateClock();

    // Helper: toon data
    function showWeather(data){
      if(!data) return;
      const c = Math.round(data.main.temp);
      tempEl.textContent = `${c}¬∞C`;
      descEl.textContent = data.weather && data.weather[0] ? data.weather[0].description : '';
      locationEl.textContent = `${data.name}${data.sys && data.sys.country ? ', ' + data.sys.country : ''}`;
      windEl.textContent = `Wind: ${data.wind?.speed ?? '--'} m/s`;
      lastEl.textContent = `Bijgewerkt: ${new Date().toLocaleTimeString('nl-NL')}`;

      // icon via OpenWeatherMap (gebruik icon code)
      const iconCode = data.weather && data.weather[0] ? data.weather[0].icon : null;
      if(iconCode){
        // icon URL (2x)
        const iconUrl = `https://openweathermap.org/img/wn/${iconCode}@2x.png`;
        weatherIconEl.innerHTML = `<img src="${iconUrl}" alt="${data.weather[0].description}" style="width:72px;height:72px">`;
      } else {
        weatherIconEl.textContent = '‚Äî';
      }
    }

    // Fetch weather by coordinates
    async function fetchWeatherByCoords(lat, lon){
      try{
        const url = `https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&units=metric&lang=nl&appid=${API_KEY}`;
        const res = await fetch(url);
        if(!res.ok) throw new Error('Geen data');
        const data = await res.json();
        showWeather(data);
      } catch(err){
        console.error(err);
        locationEl.textContent = 'Weer niet beschikbaar';
        descEl.textContent = '';
        tempEl.textContent = '--¬∞C';
        lastEl.textContent = 'Fout bij ophalen weer';
      }
    }

    // Fetch weather by city name (query)
    async function fetchWeatherByCity(city){
      if(!city) return;
      try{
        const url = `https://api.openweathermap.org/data/2.5/weather?q=${encodeURIComponent(city)}&units=metric&lang=nl&appid=${API_KEY}`;
        const res = await fetch(url);
        if(!res.ok) throw new Error('Stad niet gevonden');
        const data = await res.json();
        showWeather(data);
      } catch(err){
        console.error(err);
        locationEl.textContent = 'Stad niet gevonden';
        descEl.textContent = '';
        tempEl.textContent = '--¬∞C';
        lastEl.textContent = 'Fout bij zoeken stad';
      }
    }

    // Gebruik browser geolocation als mogelijk
    document.getElementById('locBtn').addEventListener('click', () => {
      if(!navigator.geolocation){
        alert('Geolocatie niet ondersteund door je browser');
        return;
      }
      navigator.geolocation.getCurrentPosition(pos => {
        fetchWeatherByCoords(pos.coords.latitude, pos.coords.longitude);
      }, err => {
        alert('Locatie geweigerd of niet beschikbaar');
      });
    });

    // Zoek knop
    document.getElementById('searchBtn').addEventListener('click', () => {
      const city = document.getElementById('cityInput').value.trim();
      if(city) fetchWeatherByCity(city);
    });

    // Enter op invoerveld moet ook zoeken
    document.getElementById('cityInput').addEventListener('keydown', (e) => {
      if(e.key === 'Enter') document.getElementById('searchBtn').click();
    });

    // Default: probeer locatie automatisch (stil proberen)
    if(navigator.geolocation){
      navigator.geolocation.getCurrentPosition(pos => {
        fetchWeatherByCoords(pos.coords.latitude, pos.coords.longitude);
      }, () => {
        // als gebruiker weigert, laad standaard stad
        fetchWeatherByCity('Amsterdam');
      });
    } else {
      fetchWeatherByCity('Amsterdam');
    }
  </script>
</body>
</html>


